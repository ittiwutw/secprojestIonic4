(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{b1eO:function(l,n,t){"use strict";t.r(n);var i=t("8Y7J");class u{}var e=t("pMnS"),o=t("MKJQ"),a=t("sZkV"),c=t("SVse"),s=t("k82s");class b{constructor(l,n,t,i){this.storage=l,this.router=n,this.activatedRoute=t,this.localNotifications=i,this.medList=[],this.activatedRoute.params.subscribe(l=>{this.familyDetail=JSON.parse(l.familyDetail),this.medList=this.familyDetail.noticeMed,console.log(this.familyDetail)}),this.localNotifications.getAllScheduled()}ngOnInit(){}ionViewWillEnter(){}onClickAdd(){this.router.navigate(["/add-detail",{familyIndex:this.familyDetail.familyIndex}])}removeMed(l){this.medList.splice(l,1),this.familyDetail.noticeMed=this.medList,this.storage.get("families").then(l=>{let n=[];n=l,n.splice(this.familyDetail.familyIndex,1),n.splice(this.familyDetail.familyIndex,0,this.familyDetail),this.storage.remove("families").then(l=>{this.storage.set("families",n).then(l=>{console.log(l),alert("\u0e25\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08"),this.setNotice(this.familyDetail.noticeMed)})})})}onClickUpdate(l){this.router.navigate(["/add-detail",{familyIndex:this.familyDetail.familyIndex,medIndex:l}])}setNotice(l){this.localNotifications.cancelAll().then(()=>{this.localNotifications.clearAll().then(()=>{const n=[];let t=1;l.forEach(l=>{const i=new Date(l.time);console.log(i.getHours()),console.log(i.getMinutes());let u=i.getHours(),e=i.getMinutes();"\u0e01\u0e48\u0e2d\u0e19\u0e2d\u0e32\u0e2b\u0e32\u0e23"===l.medicineType&&(e-=15,e<0&&(u-=1,e=u+60)),n.push({id:t,title:l.Mname+" "+l.medicine+" "+l.description,trigger:{every:{hour:u,minute:e}}}),t++}),console.log(n),this.localNotifications.schedule(n)})})}}var r=t("xgBC"),d=t("iInd"),p=i.nb({encapsulation:0,styles:[[""]],data:{}});function h(l){return i.Jb(0,[(l()(),i.pb(0,0,null,null,22,"ion-card",[],null,null,null,o.H,o.e)),i.ob(1,49152,null,0,a.k,[i.h,i.k,i.x],null,null),(l()(),i.pb(2,0,null,0,2,"ion-card-header",[],null,null,null,o.G,o.g)),i.ob(3,49152,null,0,a.m,[i.h,i.k,i.x],null,null),(l()(),i.Hb(4,0,[" "," "])),(l()(),i.pb(5,0,null,0,10,"ion-card-content",[],null,null,null,o.F,o.f)),i.ob(6,49152,null,0,a.l,[i.h,i.k,i.x],null,null),(l()(),i.pb(7,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),i.Hb(8,null,["",""])),(l()(),i.pb(9,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),i.Hb(10,null,["",""])),(l()(),i.pb(11,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),i.Hb(12,null,["",""])),(l()(),i.pb(13,0,null,0,2,"p",[],null,null,null,null,null)),(l()(),i.Hb(14,null,["",""])),i.Db(15,2),(l()(),i.pb(16,0,null,0,6,"div",[["class","ion-text-right ion-padding"]],null,null,null,null,null)),(l()(),i.pb(17,0,null,null,2,"ion-button",[["color","warning"]],null,[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==l.component.onClickUpdate(l.context.index)&&i),i}),o.D,o.c)),i.ob(18,49152,null,0,a.i,[i.h,i.k,i.x],{color:[0,"color"]},null),(l()(),i.Hb(-1,0,["\u0e41\u0e01\u0e49\u0e44\u0e02"])),(l()(),i.pb(20,0,null,null,2,"ion-button",[["color","danger"]],null,[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==l.component.removeMed(l.context.index)&&i),i}),o.D,o.c)),i.ob(21,49152,null,0,a.i,[i.h,i.k,i.x],{color:[0,"color"]},null),(l()(),i.Hb(-1,0,["\u0e25\u0e1a"]))],(function(l,n){l(n,18,0,"warning"),l(n,21,0,"danger")}),(function(l,n){l(n,4,0,n.context.$implicit.Mname),l(n,8,0,n.context.$implicit.medicine),l(n,10,0,n.context.$implicit.medicineType),l(n,12,0,n.context.$implicit.description);var t=i.Ib(n,14,0,l(n,15,0,i.Ab(n.parent,0),n.context.$implicit.time,"HH:mm"));l(n,14,0,t)}))}function m(l){return i.Jb(0,[i.Cb(0,c.d,[i.s]),(l()(),i.pb(1,0,null,null,16,"ion-header",[],null,null,null,o.K,o.j)),i.ob(2,49152,null,0,a.z,[i.h,i.k,i.x],{translucent:[0,"translucent"]},null),(l()(),i.pb(3,0,null,0,14,"ion-toolbar",[],null,null,null,o.bb,o.A)),i.ob(4,49152,null,0,a.xb,[i.h,i.k,i.x],null,null),(l()(),i.pb(5,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,o.E,o.d)),i.ob(6,49152,null,0,a.j,[i.h,i.k,i.x],null,null),(l()(),i.pb(7,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==i.Ab(l,9).onClick(t)&&u),u}),o.C,o.b)),i.ob(8,49152,null,0,a.e,[i.h,i.k,i.x],null,null),i.ob(9,16384,null,0,a.f,[[2,a.db],a.Cb],null,null),(l()(),i.pb(10,0,null,0,2,"ion-title",[],null,null,null,o.ab,o.z)),i.ob(11,49152,null,0,a.vb,[i.h,i.k,i.x],null,null),(l()(),i.Hb(-1,0,["\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19"])),(l()(),i.pb(13,0,null,0,4,"ion-buttons",[["slot","end"]],null,null,null,o.E,o.d)),i.ob(14,49152,null,0,a.j,[i.h,i.k,i.x],null,null),(l()(),i.pb(15,0,null,0,2,"ion-button",[],null,[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==l.component.onClickAdd()&&i),i}),o.D,o.c)),i.ob(16,49152,null,0,a.i,[i.h,i.k,i.x],null,null),(l()(),i.Hb(-1,0,["\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19"])),(l()(),i.pb(18,0,null,null,3,"ion-content",[],null,null,null,o.I,o.h)),i.ob(19,49152,null,0,a.s,[i.h,i.k,i.x],null,null),(l()(),i.eb(16777216,null,0,1,null,h)),i.ob(21,278528,null,0,c.i,[i.M,i.J,i.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var t=n.component;l(n,2,0,!0),l(n,21,0,t.medList)}),null)}function f(l){return i.Jb(0,[(l()(),i.pb(0,0,null,null,1,"app-notification-list",[],null,null,null,m,p)),i.ob(1,114688,null,0,b,[r.b,d.m,d.a,s.a],null,null)],(function(l,n){l(n,1,0)}),null)}var y=i.lb("app-notification-list",b,f,{},{},[]),g=t("s7LF");class k{}t.d(n,"NotificationListPageModuleNgFactory",(function(){return x}));var x=i.mb(u,[],(function(l){return i.xb([i.yb(512,i.j,i.X,[[8,[e.a,y]],[3,i.j],i.v]),i.yb(4608,c.l,c.k,[i.s,[2,c.r]]),i.yb(4608,g.g,g.g,[]),i.yb(4608,a.a,a.a,[i.x,i.g]),i.yb(4608,a.Bb,a.Bb,[a.a,i.j,i.p]),i.yb(4608,a.Eb,a.Eb,[a.a,i.j,i.p]),i.yb(1073742336,c.b,c.b,[]),i.yb(1073742336,g.f,g.f,[]),i.yb(1073742336,g.a,g.a,[]),i.yb(1073742336,a.zb,a.zb,[]),i.yb(1073742336,d.o,d.o,[[2,d.t],[2,d.m]]),i.yb(1073742336,k,k,[]),i.yb(1073742336,u,u,[]),i.yb(1024,d.k,(function(){return[[{path:"",component:b}]]}),[])])}))}}]);
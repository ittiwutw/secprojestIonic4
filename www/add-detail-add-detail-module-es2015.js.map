{"version":3,"sources":["./src/app/add-detail/add-detail.page.html","./src/app/add-detail/add-detail-routing.module.ts","./src/app/add-detail/add-detail.module.ts","./src/app/add-detail/add-detail.page.scss","./src/app/add-detail/add-detail.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,k7CAAm3C,YAAY,mB;;;;;;;;;;;;;;;;;;;ACAr2C;AACc;AAEL;AAElD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,8DAAa;KACzB;CACF,CAAC;AAMF,IAAa,0BAA0B,GAAvC,MAAa,0BAA0B;CAAG;AAA7B,0BAA0B;IAJtC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,0BAA0B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBE;AACM;AACF;AAEA;AAE4B;AAEvB;AAWlD,IAAa,mBAAmB,GAAhC,MAAa,mBAAmB;CAAG;AAAtB,mBAAmB;IAT/B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,qFAA0B;SAC3B;QACD,YAAY,EAAE,CAAC,8DAAa,CAAC;KAC9B,CAAC;GACW,mBAAmB,CAAG;AAAH;;;;;;;;;;;;;ACnBhC;AAAe,6GAA8C,mJ;;;;;;;;;;;;;;;;;;;;ACAX;AACT;AACgB;AACkB;AAO3E,IAAa,aAAa,GAA1B,MAAa,aAAa;IAWxB,YACU,OAAgB,EAChB,MAAc,EACd,kBAAsC;QAFtC,YAAO,GAAP,OAAO,CAAS;QAChB,WAAM,GAAN,MAAM,CAAQ;QACd,uBAAkB,GAAlB,kBAAkB,CAAoB;QAZhD,aAAQ,GAAG;YACT,QAAQ,EAAE,EAAE;YACZ,KAAK,EAAE,EAAE;YACT,YAAY,EAAE,EAAE;YAChB,WAAW,EAAE,EAAE;YACf,IAAI,EAAE,EAAE;SACT,CAAC;QASA,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,EAAE,CAAC;IAE9C,CAAC;IAED,QAAQ;IACR,CAAC;IAED,WAAW;QAGT,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;YACrC,IAAI,MAAM,GAAG,EAAE,CAAC;YAEhB,IAAI,GAAG,EAAE;gBACP,MAAM,GAAG,GAAG,CAAC;aACd;YACD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAE3B,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;gBACvC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;gBACpC,KAAK,CAAC,aAAa,CAAC,CAAC;gBACrB,MAAM,UAAU,GAAG,EAAE,CAAC;gBACtB,IAAI,OAAO,GAAG,CAAC,CAAC;gBAChB,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;oBACtB,MAAM,UAAU,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;oBACzC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,CAAC;oBACnC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC,CAAC;oBACrC,MAAM,QAAQ,GAAG,UAAU,CAAC,QAAQ,EAAE,CAAC;oBACvC,MAAM,SAAS,GAAG,UAAU,CAAC,UAAU,EAAE,CAAC;oBAE1C,MAAM,WAAW,GAAG;wBAClB,EAAE,EAAE,OAAO;wBACX,KAAK,EAAE,MAAM,CAAC,KAAK,GAAG,GAAG,GAAG,MAAM,CAAC,WAAW;wBAC9C,OAAO,EAAE;4BACP,KAAK,EAAE;gCACL,IAAI,EAAE,QAAQ;gCACd,MAAM,EAAE,SAAS;6BAClB;yBACF;qBACF,CAAC;oBAEF,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;oBAC7B,OAAO,EAAE,CAAC;gBACZ,CAAC,CAAC,CAAC;gBAEH,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;gBAExB,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;gBAE7C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YAClC,CAAC,CAAC,CAAC;QAEL,CAAC,CAAC,CAAC;IAEL,CAAC;CAEF;;YA7DoB,sDAAO;YACR,sDAAM;YACM,wFAAkB;;AAdrC,aAAa;IALzB,+DAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;QAC1B,wNAAqC;;KAEtC,CAAC;2EAamB,sDAAO;QACR,sDAAM;QACM,wFAAkB;GAdrC,aAAa,CAyEzB;AAzEyB","file":"add-detail-add-detail-module-es2015.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>กรอกข้อมูล</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-item>\\n    <ion-label position=\\\"fixed\\\">\\n      ชื่อผู้ใช้\\n    </ion-label>\\n    <ion-input\\n      placeholder=\\\"ชื่อผู้ใช้\\\"\\n      [(ngModel)]=\\\"postdata.Mname\\\"\\n    ></ion-input>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label position=\\\"fixed\\\">\\n      ชื่อยา\\n    </ion-label>\\n    <ion-input placeholder=\\\"ชื่อยา\\\" [(ngModel)]=\\\"postdata.medicine\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label position=\\\"fixed\\\">\\n      ชนิดของยา\\n    </ion-label>\\n    <ion-input\\n      placeholder=\\\"ชนิดของยา\\\"\\n      [(ngModel)]=\\\"postdata.medicineType\\\"\\n    ></ion-input>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label position=\\\"fixed\\\">\\n      คำบรรยาย\\n    </ion-label>\\n    <ion-input\\n      placeholder=\\\"คำบรรยาย\\\"\\n      [(ngModel)]=\\\"postdata.description\\\"\\n    ></ion-input>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label position=\\\"fixed\\\">เวลา</ion-label>\\n    <ion-datetime\\n      placeholder=\\\"เวลา\\\"\\n      displayFormat=\\\"HH:mm\\\"\\n      [(ngModel)]=\\\"postdata.time\\\"\\n    ></ion-datetime>\\n  </ion-item>\\n  <br>\\n  <ion-button expand=\\\"block\\\" (click)=\\\"onClickSave()\\\">บันทึก</ion-button>\\n\\n  {{noticeList}}\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AddDetailPage } from './add-detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddDetailPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddDetailPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddDetailPageRoutingModule } from './add-detail-routing.module';\n\nimport { AddDetailPage } from './add-detail.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AddDetailPageRoutingModule\n  ],\n  declarations: [AddDetailPage]\n})\nexport class AddDetailPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkZC1kZXRhaWwvYWRkLWRldGFpbC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { LocalNotifications } from '@ionic-native/local-notifications/ngx';\n\n@Component({\n  selector: 'app-add-detail',\n  templateUrl: './add-detail.page.html',\n  styleUrls: ['./add-detail.page.scss'],\n})\nexport class AddDetailPage implements OnInit {\n\n  postdata = {\n    medicine: '',\n    Mname: '',\n    medicineType: '',\n    description: '',\n    time: ''\n  };\n\n  noticeList: any;\n  constructor(\n    private storage: Storage,\n    private router: Router,\n    private localNotifications: LocalNotifications\n  ) {\n\n    this.localNotifications.requestPermission();\n\n  }\n\n  ngOnInit() {\n  }\n\n  onClickSave() {\n\n\n    this.storage.get('MedList').then(val => {\n      let newMed = [];\n\n      if (val) {\n        newMed = val;\n      }\n      newMed.push(this.postdata);\n\n      this.storage.remove('MedList').then(() => {\n        this.storage.set('MedList', newMed);\n        alert('Completed!!');\n        const noticeList = [];\n        let idIndex = 1;\n        newMed.forEach(notice => {\n          const selectDate = new Date(notice.time);\n          console.log(selectDate.getHours());\n          console.log(selectDate.getMinutes());\n          const selectHr = selectDate.getHours();\n          const selectMin = selectDate.getMinutes();\n\n          const noticeParam = {\n            id: idIndex,\n            title: notice.Mname + ' ' + notice.description,\n            trigger: {\n              every: {\n                hour: selectHr,\n                minute: selectMin\n              }\n            }\n          };\n\n          noticeList.push(noticeParam);\n          idIndex++;\n        });\n\n        console.log(noticeList);\n\n        this.localNotifications.schedule(noticeList);\n\n        this.router.navigate(['/home']);\n      });\n\n    });\n\n  }\n\n}\n"],"sourceRoot":"webpack:///"}